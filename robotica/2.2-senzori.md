# 2.2 Senzori

**Senzor de citire**

Cea mai ușoară modalitate de a afla ce valoare dă un senzor este de a avea un Sprite \(în mod implicit panda\)  spune care este. În  "Looks" există un bloc "say":

![](../.gitbook/assets/image%20%2814%29.png)

Desigur, dacă îi ceri pandei să spună "Hello!", Panda va spune "Hello!".  Poți înlocui acest text cu numele oricărui senzor pe care dorești să îl citești. Aceasta este pentru senzorul cu ultrasunete:

![](../.gitbook/assets/image%20%2822%29.png)

Senzorul de urmărire a liniei:

![](../.gitbook/assets/image%20%283%29.png)

Senzorul  de lumină:

![](../.gitbook/assets/image%20%285%29.png)

Pentru senzorii de tip plug-in, trebuie să te asiguri că portul selectat este același port ca și portul în care ai conectat senzorul.

Acum, poți face clic pe acest bloc și iți va spune valoarea senzorului. Pentru a face actualizarea continuă, poți pune acest bloc într-o ciclu/buclă infinită \(forever loop\) :

![](../.gitbook/assets/image%20%2818%29.png)

_Challenge:_

1. Găsește o modalitate de a afișa simultan valorile a mai multor senzori.  
2. Afla intervalul de valori posibile pentru toți senzorii.

**Senzor de lumina**

Senzorul de lumină de pe placa mCore măsoară lumina - cu cât este mai luminos, cu atât este mai mare valoarea, cu cât este mai întunecat, cu atât este mai mică valoarea. Intervalul senzorului de lumină este 0-1023.

În această lecție, vei programa mBot-ul să redea o notă în cazul în care simte că există multă lumină și să redea o altă notă dacă simte că nu este prea multă lumină. Pentru aceasta, vei avea nevoie de blocul "IF". Când folosim un "IF" în programare, există 3 părți la ceea ce scriem:

"IF" în sine   
Conditia   
Codul care se execută, dacă condiția este îndeplinită.

Deci, trebuie să scrii ceva de genul:   
Pseudocode

```c
If (condition)
---- Do this code
```

Primul lucru pe care vreau să-l faci în această lecție este să faci ca mBot-ul sa ăinterpreteze un sunet dacă este întunecat. Deci, condiția este "it is dark", iar codul este "play sound":

```text
If (it is dark)
---- Play sound.
```

Amintește-ți că senzorul de lumină returnează o valoare între 0 și 1023, unde numerele mari reprezintă un mediu luminos. Aș spune că o citire a senzorului de lumină mai mică de 500 reprezintă un mediu întunecat. Așadar, poți scrie codul ca:

```text
If (the value on the light sensor IS LESS THAN 500)
---- Play sound.
```

Pentru a scri asta în mBlock, ai nevoie de:

1. Un "IF" 

![](../.gitbook/assets/image%20%2838%29.png)

2. O condiție. Condiția din acest exemplu este compusă din 2 părți. Ai nevoie de blocul verde "less than " din scriptul "Operators":

![](../.gitbook/assets/image%20%2842%29.png)

Și ai nevoie de senzorul de lumină "Block" de la "Robtots":

![](../.gitbook/assets/image%20%2827%29.png)

Condiția este "senzorul de lumină este mai mic de 500", pentru a putea pune blocul senzorului de lumină în partea stângă a blocului "less than" și scrie "500" în partea dreaptă. Când pui blocul albastru în interiorul blocului verde, asigură-te că partea stângă a blocului albastru este aliniată cu spațiul corespunzător al blocului verde. Când spațiul din blocul verde are un contur alb, este gata să primească blocul albastru:

![](../.gitbook/assets/image%20%2830%29.png)

Și când e lipit, arată așa: 

![](../.gitbook/assets/image%20%2812%29.png)

În cele din urmă, avem nevoie de un cod care va fi rulat dacă condiția este îndeplinită:

![](../.gitbook/assets/image%20%2824%29.png)

Într-un final, codul ar trebui să arate așa:

![](../.gitbook/assets/image%20%2832%29.png)

Când se execută acest cod, acesta va testa condiția o dată și apoi va înceta să ruleze. Dacă dorim să continuăm să redă, muzica în timp ce e întuneric, poți adăuga un ciclu infinit\(forever loop\). De asemenea, nu uita să incluzi un comentariu descriptiv:

![](../.gitbook/assets/image%20%2823%29.png)

Deci, dacă ai fi vrut să citească nota C4 în întuneric, dar nu D4 în lumină. Pentru aceasta, ai putea folosi un bloc de control "if / else":

![](../.gitbook/assets/image%20%2815%29.png)

_Challenge_:

1. Elaborează un program în care robotul rulează înainte în lumină și se oprește în întuneric.
2. Elaborează un program în care robotul dansează în întuneric \(creați-vă cu mișcările de dans\) și se oprește la lumină.
3. Elaborează un program în care robotul merge la viteze diferite, în funcție de lumină - cu cât este mai luminos, cu atât mai repede merge.
4. Elaborează un program care redă o mulțime de note diferite - cu cât este mai multă lumină sesizată, cu atât este mai înaltă nota.

**Senzorul Ultrasonic**

Senzorul ultrasonic măsoară distanța. Unul dintre "ochi" transmite un sunet, iar celălalt așteaptă revenirea ecoului sunetului. Din momentul efectuării acestui proces, distanța obiectului de la senzor poate fi calculată. Senzorul cu ultrasunete are o gamă de 3-400 cm. Dacă un obiect este în afara acestui interval, senzorul va reveni la o valoare de 400.

![](../.gitbook/assets/image%20%2834%29.png)

În această lecție, vreau ca robotul să meargă înainte până când se apropie de un obiect, apoi să se îndepărteze de obiect și să meargă într-o nouă direcție:

```text
Forever:
---- If an object is detected
---- ---- Turn to a new direction
---- Else
---- ---- Go forward
```

Și în cod, care arată astfel:

![](../.gitbook/assets/image%20%289%29.png)

Testând acest lucru, vei descoperi că robotul nu se răsucește suficient când a întâlnește un obiect, așa că trebuie adăugi o comandă de așteptare după rândul său. Acum mi-ar plăcea să te întorci într-o direcție aleatorie - uneori la dreaptă, alteori la stânga. Există un bloc Operator pe care îl poți folosi doar pentru a face acest lucru:

![](../.gitbook/assets/image%20%2829%29.png)

Robotul poate să se rotească numai la stânga sau la dreapta, deci vei alege un număr aleator între 0 și 1. Dacă numărul aleatoriu este 0, atunci robotul se va întoarce la stânga. Dacă numărul aleatoriu este 1, atunci robotul se va întoarce la dreapta. Atunci comportamentul de întoarcere va arăta astfel:

![](../.gitbook/assets/image%20%2841%29.png)

**Challenge**:

1. Puteți pune codul de mai sus împreună pentru a realiza programul finalizat? 
2. Puteți scrie un program care urmează unui obiect? Deci, dacă obiectul este prea apropiat, robotul merge înapoi, dacă obiectul este departe, el merge înainte și dacă obiectul nu este aproape sau departe, robotul se oprește. 
3. Puteți schimba programul de la întrebarea 2, pentru a face robotul să se miște la viteze diferite?

